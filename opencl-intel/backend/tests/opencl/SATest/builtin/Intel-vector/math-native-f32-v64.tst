; Check that v64(expand from v32) builtins are used.

; Disable the test in debug build since CHECK-SVML will be complicated.
; UNSUPPORTED: debug-build

; RUN: SATest -BUILD --config=%S/math-native-f32.tst.cfg -tsize=64 -cpuarch="skx" -llvm-option=-print-after=vplan-vec -dump-llvm-file %t.ll 2>&1 | FileCheck %s -check-prefixes=CHECK,CHECK-VPLAN
; RUN: FileCheck %s --input-file=%t.ll -check-prefix=CHECK-SVML

; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_acosDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_acoshDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z13native_acospiDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_asinDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_asinhDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z13native_asinpiDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_atanDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_atan2Dv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_atanhDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z13native_atanpiDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z14native_atan2piDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_cbrtDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z10native_cosDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_coshDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_cospiDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z13native_divideDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_erfcDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z10native_erfDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z10native_expDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_exp2Dv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_exp10Dv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_expm1Dv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_fdimDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_fmaxDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_fmaxDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_fminDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_fminDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_fmodDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_hypotDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_ilogbDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z10native_logDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_log2Dv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_log10Dv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_log1pDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z10native_powDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_pownDv64_fDv64_i(<64 x float> {{.*}}, <64 x i32> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_powrDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_rcbrtDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_recipDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_rootnDv64_fDv64_i(<64 x float> {{.*}}, <64 x i32> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_rsqrtDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z10native_sinDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_sinhDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_sinpiDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_sqrtDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z10native_tanDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z11native_tanhDv64_f(<64 x float> {{.*}})
; CHECK-VPLAN: call{{.*}} <64 x float> @_Z12native_tanpiDv64_f(<64 x float> {{.*}})

; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_acosf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_acosf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_acoshf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_acoshf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_acospif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_acospif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_asinf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_asinf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_asinhf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_asinhf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_asinpif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_asinpif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_atanf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_atanf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_atan2f32_native(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_atan2f32_native(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_atanhf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_atanhf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_atanpif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_atanpif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_atan2pif32_native(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_atan2pif32_native(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cbrtf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cbrtf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cosf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cosf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_coshf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_coshf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cospif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cospif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_erfcf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_erfcf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_erff32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_erff32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_expf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_expf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp2f32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp2f32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp10f32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp10f32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_expm1f32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_expm1f32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_truncf32(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_truncf32(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} <64 x float> @llvm.sqrt.v64f32(<64 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_logf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_logf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log2f32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log2f32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log10f32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log10f32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log1pf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log1pf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_powf32_native(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_powf32_native(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_pownf32_native(<32 x float> {{.*}}, <32 x i32> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_pownf32_native(<32 x float> {{.*}}, <32 x i32> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_powrf32_native(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_powrf32_native(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_rcbrtf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_rcbrtf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_rootnf32_native(<32 x float> {{.*}}, <32 x i32> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_rootnf32_native(<32 x float> {{.*}}, <32 x i32> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinhf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinhf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinpif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinpif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} <64 x float> @llvm.sqrt.v64f32(<64 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanhf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanhf32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanpif32_native(<32 x float> {{.*}})
; CHECK-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanpif32_native(<32 x float> {{.*}})

; CHECK: Test program was successfully built
